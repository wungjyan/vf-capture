(function(a,c){typeof exports=="object"&&typeof module<"u"?module.exports=c():typeof define=="function"&&define.amd?define(c):(a=typeof globalThis<"u"?globalThis:a||self,a.VFCapture=c())})(this,function(){"use strict";function a(c,e){return new Promise((r,u)=>{const n=document.createElement("video");n.currentTime=e.time||0,n.muted=!0,n.autoplay=!0,n.src=URL.createObjectURL(c),n.oncanplay=()=>{const t=document.createElement("canvas");t.width=e.width||(e.width=300),t.height=e.height||e.width;try{const i=t.getContext("2d");if(i==null||i.drawImage(n,0,0,t.width,t.height),e.base64){const d=t.toDataURL(e.base64.type||"image/png",e.base64.quality||1);r(d)}t.toBlob(d=>{if(d){const f=URL.createObjectURL(d);r({blob:d,url:f})}else u("canvas failed to convert blob")})}catch(i){u(i)}}})}return a});
